@import url("https://fonts.googleapis.com/css2?family=Gugi&display=swap");

/* =========================
   THEME VARIABLES
========================= */

:root {
   --bg-body: #f9f9f9;
   --bg-surface: #ffffff;
   --bg-muted: #f9fafb;

   --text-primary: #333333;
   --text-secondary: #6c757d;

   --border-light: #e5e7eb;
   --border-dashed: #eeeeee;

   --shadow-main: 0 4px 15px rgba(0, 0, 0, 0.08);

   --accent: #61b8e4;
   --accent-soft: #d6ecf7;

   --nav-bg: #ffffff;
   --nav-text: #343a40;
}

body.dark {
   --bg-body: #121212;
   --bg-surface: #1e1e1e;
   --bg-muted: #2a2a2a;

   --text-primary: #e4e4e4;
   --text-secondary: #9ca3af;

   --border-light: #333333;
   --border-dashed: #2f2f2f;

   --shadow-main: 0 4px 20px rgba(0, 0, 0, 0.6);

   --accent: #5eb5dd;
   --accent-soft: #1f3a46;

   --nav-bg: #1a1a1a;
   --nav-text: #ffffff;
}

/* =========================
   GLOBAL
========================= */

* {
   box-sizing: border-box;
   margin: 0;
   padding: 0;
}

html,
body {
   width: 100%;
   min-height: 100vh;
   font-family: "Gugi", sans-serif;
   background: var(--bg-body);
   color: var(--text-primary);
   overflow-x: hidden;
   transition: background 0.3s ease, color 0.3s ease;
}

/* =========================
   NAVBAR
========================= */

.navbar {
   position: fixed;
   top: 0;
   width: 100%;
   height: 64px;
   background: var(--nav-bg);
   box-shadow: var(--shadow-main);
   z-index: 1100;
   transition: background 0.3s ease;
}

.nav-container {
   height: 100%;
   margin: 0 auto;
   padding: 0 24px;
   display: flex;
   justify-content: space-between;
   align-items: center;
}

.logo {
   display: flex;
   align-items: center;
   gap: 5px;
}

.logo-icon {
   font-size: 1.3rem;
   color: #88c335;
}

.logo-text,
.nav-title {
   color: var(--nav-text);
   text-decoration: none;
}

.logo-text {
   font-size: 1.3rem;
}

.logo-text span {
   color: #88c335;
}

.nav-logout {
   text-decoration: none;
   font-size: 1.1rem;
   color: #dc3545;
   display: flex;
   align-items: center;
   gap: 6px;
}

.theme-toggle {
   position: fixed;
   right: 20px;
   top: 85px;
   z-index: 1200;
   background: var(--bg-surface);
   border: 2px solid var(--border-light);
   border-radius: 50%;
   width: 48px;
   height: 48px;
   font-size: 1.3rem;
   cursor: pointer;
   color: var(--text-primary);
   box-shadow: var(--shadow-main);
   display: flex;
   align-items: center;
   justify-content: center;
   transition: background 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

.theme-toggle:hover {
   transform: scale(1.1);
}

/* =========================
   LOADING OVERLAY
========================= */

.loading-overlay {
   position: fixed;
   inset: 0;
   background: var(--bg-body);
   display: flex;
   align-items: center;
   justify-content: center;
   z-index: 2000;
   transition: opacity 0.3s ease;
}

.loading-container {
   text-align: center;
}

.loading-spinner {
   width: 60px;
   height: 60px;
   border: 6px solid var(--border-light);
   border-top: 6px solid var(--accent);
   border-radius: 50%;
   animation: spin 1s linear infinite;
   margin: 0 auto 12px;
}

.loading-text {
   font-size: 1rem;
   color: var(--text-secondary);
}

@keyframes spin {
   to {
      transform: rotate(360deg);
   }
}

/* =========================
   MAIN LAYOUT
========================= */

body {
   display: flex;
   flex-direction: column;
}

.main-wrapper {
   flex: 1;
   padding: 16px;
   padding-top: 80px;
   max-width: 1400px;
   margin-left: auto;
   margin-right: auto;
   width: 100%;
   opacity: 1;
   transition: opacity 0.3s ease;
   display: flex;
   align-items: center;
}

.dashboard-grid {
   display: grid;
   grid-template-columns: 1fr minmax(300px, 380px);
   gap: 20px;
   align-items: center;
   width: 100%;
}

.content-wrapper {
   display: flex;
   flex-direction: column;
   gap: 20px;
   min-width: 0;
}

.status-card,
.chart-container,
.schedule-panel {
   background: var(--bg-surface);
   border-radius: 16px;
   box-shadow: var(--shadow-main);
   padding: 20px;
   width: 100%;
   transition: background 0.3s ease;
}

/* =========================
   STATUS CARD
========================= */

.cntnr-title {
   font-size: 1.3rem;
   text-align: center;
   margin-bottom: 20px;
}

.status-cntnr {
   display: flex;
   flex-wrap: wrap;
   justify-content: center;
   gap: 24px;
}

.plant-info {
   display: flex;
   flex-direction: column;
   align-items: center;
   flex: 0 1 200px;
}

.plant-info img {
   width: 100%;
   max-width: 200px;
   border-radius: 12px;
   filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.2));
}

.badge {
   margin-top: 12px;
   padding: 6px 20px;
   font-weight: bold;
   color: #fff;
   background: #6c757d;
   border-radius: 30px;
}

.info-block {
   flex: 3 1 280px;
   display: flex;
   flex-direction: column;
   justify-content: center;
   gap: 8px;
   min-width: 240px;
}

.info-item {
   display: flex;
   justify-content: space-between;
   align-items: center;
   border-bottom: 1px dashed var(--border-dashed);
   padding-bottom: 6px;
}

.info-left {
   display: flex;
   align-items: center;
   gap: 8px;
}

.snsr-value {
   font-weight: bold;
}

.temp-icn,
.temp-spn {
   color: #F7263B;
}

.humd-icn,
.humd-spn {
   color: #61B8E4;
}

.wthr-icn,
.wthr-spn {
   color: #AA64EB;
}

.mstr-icn,
.mstr-spn {
   color: #7DA417;
}

.ligt-icn,
.ligt-spn {
   color: #F5BA0D;
}

.watr-icn,
.watr-spn {
   color: #6585a0;
}

/* =========================
   CHART
========================= */

#sensors-chart {
   width: 100%;
   height: 300px;
}

/* =========================
   SCHEDULE PANEL
========================= */

.schedule-panel {
   display: flex;
   flex-direction: column;
   align-items: center;
}

.schedule-title {
   font-size: 1.4rem;
   margin-bottom: 8px;
   display: flex;
   align-items: center;
   gap: 8px;
}

.time-selector {
   width: 100%;
   margin-top: 20px;
}

.time-label {
   text-align: center;
   margin-bottom: 12px;
   color: var(--text-secondary);
}

.time-inputs {
   display: flex;
   justify-content: center;
   gap: 12px;
}

.time-select {
   font-family: "Gugi", sans-serif;
   font-size: 0.95rem;
   padding: 10px 28px 10px 12px;
   border: 2px solid var(--border-light);
   border-radius: 30px;
   background: var(--bg-muted);
   color: var(--text-primary);
   cursor: pointer;
   transition: border-color 0.2s ease;
}

.time-select:focus {
   outline: none;
   border-color: var(--accent);
}

/* =========================
   CIRCULAR SLIDER
========================= */

.duration-container {
   width: 100%;
   margin: 24px 0;
   display: flex;
   justify-content: center;
}

.circular-slider {
   position: relative;
   width: 220px;
   height: 220px;
   user-select: none;
}

.slider-svg {
   width: 100%;
   height: 100%;
   transform: rotate(-90deg);
}

.slider-track {
   fill: none;
   stroke: var(--accent-soft);
   stroke-width: 20;
}

.slider-progress {
   fill: none;
   stroke: var(--accent);
   stroke-width: 20;
   stroke-linecap: round;
}

.step-marker {
   position: absolute;
   font-size: 0.7rem;
   color: var(--text-secondary);
   font-weight: 600;
   width: 20px;
   text-align: center;
   transform: translate(-50%, -50%);
   pointer-events: none;
}

.slider-handle {
   position: absolute;
   width: 26px;
   height: 26px;
   background: var(--accent);
   border: 4px solid var(--bg-surface);
   border-radius: 50%;
   transform: translate(-50%, -50%);
   cursor: grab;
   box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.slider-center {
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   text-align: center;
}

.slider-value {
   font-size: 2.2rem;
   font-weight: 700;
}

.slider-label {
   font-size: 0.8rem;
   color: var(--text-secondary);
}

/* =========================
   SCHEDULE ACTIONS
========================= */

.schedule-actions {
   width: 100%;
   margin-top: 1rem;
   padding-top: 1rem;
   border-top: 1px solid var(--border-light);
}

/* Repeat toggle */
.repeat-toggle {
   display: flex;
   justify-content: center;
   margin-bottom: 12px;
}

.toggle-label {
   display: flex;
   align-items: center;
   gap: 8px;
   cursor: pointer;
   font-size: 0.85rem;
   color: var(--text-secondary);
}

.toggle-label input[type="checkbox"] {
   width: 18px;
   height: 18px;
   accent-color: var(--accent);
   cursor: pointer;
}

.toggle-text {
   user-select: none;
}

/* Schedule button */
.schedule-btn {
   width: 100%;
   padding: 12px 20px;
   background: linear-gradient(135deg, #69b5f3, #3878c0);
   color: white;
   border: none;
   border-radius: 8px;
   font-family: "Gugi", sans-serif;
   font-size: 1rem;
   font-weight: 600;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 8px;
   transition: all 0.3s ease;
   margin-bottom: 1rem;
}

.schedule-btn:hover {
   box-shadow: 0 0 12px rgba(69, 116, 160, 0.5);
   transform: scale(0.98);
}

/* =========================
   SCHEDULE LIST
========================= */

.schedule-list {
   width: 100%;
   display: flex;
   flex-direction: column;
   gap: 8px;
   max-height: 160px;
   overflow-y: auto;
   padding-right: 4px;
}

/* Custom scrollbar */
.schedule-list::-webkit-scrollbar {
   width: 5px;
}

.schedule-list::-webkit-scrollbar-track {
   background: var(--bg-muted);
   border-radius: 4px;
}

.schedule-list::-webkit-scrollbar-thumb {
   background: var(--accent);
   border-radius: 4px;
}

.schedule-item {
   display: flex;
   align-items: center;
   justify-content: space-between;
   padding: 10px 14px;
   background: var(--bg-muted);
   border-radius: 10px;
   border-left: 3px solid var(--accent);
   transition: all 0.2s ease;
}

.schedule-item:hover {
   background: var(--accent-soft);
   transform: translateX(2px);
}

.schedule-item.triggered {
   opacity: 0.5;
   border-left-color: #4CAF50;
}

.schedule-info {
   display: flex;
   flex-direction: column;
   gap: 4px;
}

.schedule-time-row {
   display: flex;
   align-items: center;
   gap: 8px;
}

.schedule-time {
   font-weight: 600;
   font-size: 1rem;
   color: var(--text-primary);
}

.schedule-repeat {
   font-size: 0.7rem;
   color: var(--accent);
}

.schedule-repeat i {
   opacity: 0.8;
}

.schedule-meta {
   font-size: 0.75rem;
   color: var(--text-secondary);
}

.schedule-delete {
   background: transparent;
   color: var(--text-secondary);
   border: none;
   width: 32px;
   height: 32px;
   border-radius: 8px;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   transition: all 0.2s ease;
   font-size: 0.85rem;
}

.schedule-delete:hover {
   background: rgba(255, 82, 82, 0.15);
   color: #ff5252;
}

.no-schedules {
   text-align: center;
   color: var(--text-secondary);
   padding: 20px 12px;
   font-size: 0.85rem;
   font-style: italic;
}

.schedule-badge {
   font-size: 0.65rem;
   padding: 2px 8px;
   border-radius: 12px;
   background: var(--accent-soft);
   color: var(--accent);
   font-weight: 600;
   text-transform: uppercase;
}

.schedule-badge.done {
   background: rgba(76, 175, 80, 0.15);
   color: #4CAF50;
}

.schedule-meta {
   font-size: 0.75rem;
   color: var(--text-secondary);
   display: flex;
   align-items: center;
   gap: 4px;
}

.schedule-meta i {
   font-size: 0.7rem;
   opacity: 0.7;
}

/* =========================
   NOTIFICATIONS
========================= */

.sai-notification {
   position: fixed;
   bottom: 20px;
   left: 50%;
   transform: translateX(-50%) translateY(100px);
   padding: 12px 24px;
   border-radius: 30px;
   font-family: "Gugi", sans-serif;
   font-size: 0.9rem;
   font-weight: 600;
   color: #fff;
   z-index: 3000;
   opacity: 0;
   transition: transform 0.3s ease, opacity 0.3s ease;
   box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
}

.sai-notification.show {
   transform: translateX(-50%) translateY(0);
   opacity: 1;
}

.sai-notification.success {
   background: linear-gradient(135deg, #4CAF50, #2E7D32);
}

.sai-notification.error {
   background: linear-gradient(135deg, #f44336, #c62828);
}

.sai-notification.info {
   background: linear-gradient(135deg, #69b5f3, #3878c0);
}

/* =========================
   MANUAL WATER BUTTON
========================= */

.manual-section {
   text-align: center;
   margin-top: 24px;
}

.manual-text {
   margin-bottom: 15px;
   color: var(--text-secondary);
}

.water-btn {
   padding: 12px 28px;
   border: none;
   border-radius: 40px;
   font-family: "Gugi", sans-serif;
   font-size: 1rem;
   font-weight: 600;
   background: var(--accent);
   color: #fff;
   cursor: pointer;
   transition: transform 0.2s ease, opacity 0.2s ease, box-shadow 0.2s ease;
}

.water-btn:hover:not(:disabled) {
   transform: translateY(-2px);
   box-shadow: 0 4px 15px rgba(97, 184, 228, 0.4);
}

.water-btn:disabled {
   opacity: 0.7;
   cursor: not-allowed;
}

/* =========================
   DARK THEME OVERRIDES
========================= */

.dark .schedule-item {
   background: var(--bg-muted);
}

.dark .schedule-item.triggered {
   background: rgba(76, 175, 80, 0.1);
}

.dark .time-select {
   background: var(--bg-muted);
   border-color: var(--border-light);
   color: var(--text-primary);
}

/* =========================
   RESPONSIVE
========================= */

@media (max-width: 1200px) {
   .dashboard-grid {
      grid-template-columns: 1fr;
   }

   .main-wrapper {
      max-width: 900px;
   }
}

@media (max-width: 768px) {
   .dashboard-grid {
      margin-top: 75px;
   }

   .theme-toggle {
      top: 95px;
   }

   .main-wrapper {
      padding: 12px;
   }

   #sensors-chart {
      height: 250px;
   }
}

@media (max-width: 480px) {
   #sensors-chart {
      height: 220px;
   }

   .status-card,
   .chart-container,
   .schedule-panel {
      padding: 16px;
   }

   .schedule-list {
      max-height: 120px;
   }
}
