function togglePassword() { const pwdInput = document.getElementById('PASSWORD'); const eyeIcon = document.getElementById('eye-icon'); if (pwdInput.type === 'password') { pwdInput.type = 'text'; eyeIcon.classList.replace('ri-eye-line', 'ri-eye-off-line'); } else { pwdInput.type = 'password'; eyeIcon.classList.replace('ri-eye-off-line', 'ri-eye-line'); } } const modal = document.getElementById('serialModal'); const inputs = document.querySelectorAll('.otp-inputs input'); const verifyBtn = document.getElementById('verifyBtn'); function openSerialModal() { modal.style.display = 'flex'; resetInputs(); inputs[0].focus(); verifyBtn.disabled = true; } function closeSerialModal() { modal.style.display = 'none'; resetInputs(); } function resetInputs() { inputs.forEach(input => { input.value = ''; input.classList.remove('filled'); }); } function moveToNext(current, index) { current.value = current.value.toUpperCase().replace(/[^A-Z0-9]/g, ''); if (current.value.length === 1) { current.classList.add('filled'); } else { current.classList.remove('filled'); } if (current.value && index < inputs.length - 1) { inputs[index + 1].focus(); } verifyBtn.disabled = !Array.from(inputs).every(i => i.value.length === 1); } function submitSerialKey() { const key = Array.from(inputs).map(i => i.value).join(''); if (key.length === 5) { window.location.href = "/login?recover=1&key=" + key; } } window.addEventListener('click', function (event) { if (event.target === modal) { closeSerialModal(); } }); window.addEventListener('DOMContentLoaded', () => { document.body.classList.add('fade-in'); inputs.forEach((input, idx) => { input.addEventListener('input', () => moveToNext(input, idx)); }); });
